# 実機テスト即時実行ガイド

## 🚨 現在の問題
- トンネルモードでngrokインストールエラー
- 実機がローカル開発サーバーに接続できない

## ✅ 即座に実行可能な解決策

### 方法1: 代替起動スクリプト（推奨）
```bash
# 複数の起動オプションを提供
./start-alternative.sh

# オプション:
# 1) LANモード - 同じWiFiネットワークで接続
# 2) 別ポート(8082) - ポート競合を回避
# 3) 通常起動 - デフォルト設定
```

### 方法2: EASビルドで直接テスト（最も確実）
```bash
# 1. EASにログイン（初回のみ）
eas login

# 2. プレビュービルドを作成
eas build --platform ios --profile preview --clear-cache

# 3. ビルドが完了したら（約15-20分）:
# - QRコードが表示される
# - 実機でQRコードをスキャン
# - TestFlight経由でアプリをインストール
```

### 方法3: シンプルな再起動手順
```bash
# 1. 全プロセスを強制終了
killall node
killall watchman

# 2. キャッシュを完全にクリア
rm -rf node_modules/.cache
rm -rf .expo
watchman watch-del-all

# 3. シンプルに起動
npx expo start

# 4. Expo GoアプリでQRコードをスキャン
```

## 🔥 今すぐ動作確認するための最短手順

### オプションA: ローカル開発（5分）
```bash
# ポートを変えて起動
npx expo start --port 8082

# 実機のExpo Goアプリで:
# 1. アプリを完全に終了
# 2. 再度開く
# 3. QRコードをスキャン
```

### オプションB: EASビルド（20分だが確実）
```bash
# ビルドを開始
eas build --platform ios --profile preview

# ビルド状況を確認
eas build:list

# 完了後、提供されるリンクから実機にインストール
```

## 📱 実機接続のトラブルシューティング

### 確認事項チェックリスト:
- [ ] 開発マシンと実機が同じWiFiに接続されている
- [ ] VPNが無効になっている
- [ ] ファイアウォールが無効か、着信を許可している
- [ ] Expo Goアプリが最新版
- [ ] 実機の日時設定が正しい

### それでも接続できない場合:
1. **実機のネットワーク設定をリセット**
   - 設定 → 一般 → リセット → ネットワーク設定をリセット

2. **開発マシンのIPアドレスを手動設定**
   ```bash
   # IPアドレスを確認
   ifconfig | grep "inet " | grep -v 127.0.0.1
   
   # 手動でURLを入力（Expo Goアプリ内）
   exp://[あなたのIPアドレス]:8081
   ```

3. **USB接続でテスト（iOS）**
   ```bash
   # iOSデバイスをUSBで接続
   npx expo start --localhost
   ```

## 🎯 MVP完成への推奨アプローチ

**実機接続の問題に時間を費やさず、以下の優先順位で進める:**

1. **EASビルドでプレビュー版作成**（最も確実）
2. **シミュレーターで開発継続**（開発速度優先）
3. **接続問題は後回し**（MVP機能の実装を優先）

## 💡 重要な注意点

- ngrokの問題は環境依存が大きい
- EASビルドなら確実に実機テストできる
- MVP完成が最優先、接続問題は二次的

**今すぐ実行**: `eas build --platform ios --profile preview`