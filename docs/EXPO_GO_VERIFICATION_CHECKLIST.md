# Expo Go での動作確認チェックリスト

## ⚠️ 発見された問題と解決状況

### 1. ✅ 修正済み: expo-dev-client の削除
- **問題**: App.tsx に `import 'expo-dev-client'` が残っていた
- **解決**: 削除済み

### 2. ⚠️ 要確認: 環境変数の読み込み
```bash
# 環境変数が正しく読み込まれるか確認
npx expo start
```
起動後、アプリ内でSupabaseに接続できるか確認が必要

### 3. 🔍 実機テストで確認すべき項目

## 実際にテストすべき重要機能

### 基本機能テスト（優先度：高）
- [ ] **Supabase接続**
  - ログイン画面でエラーが出ないか
  - データベースから商品が取得できるか
  
- [ ] **画像表示**
  - 商品画像が正しく表示されるか
  - 画像URLがHTTPSであることを確認

- [ ] **スワイプ動作**
  - ジェスチャーが正しく認識されるか
  - アニメーションがスムーズか

- [ ] **外部リンク**
  - アフィリエイトリンクが開けるか
  - アプリがクラッシュしないか

## テスト手順

### Step 1: 環境変数の確認
```bash
# プロジェクトディレクトリで
cd /Users/koki_air/Documents/GitHub/Stilya

# .envファイルが存在することを確認
ls -la .env

# Expoを起動
npx expo start --clear
```

### Step 2: Expo Go でのテスト
1. QRコードをスキャン
2. アプリが起動することを確認
3. 以下のエラーメッセージが出ないか確認：
   - "Unable to resolve module"
   - "Network request failed"
   - "Supabase connection error"

### Step 3: 機能別テスト

#### A. 認証テスト
```
1. ログイン画面が表示される
2. テストアカウントでログイン可能
3. エラーが表示されない
```

#### B. データ取得テスト
```
1. 商品データが表示される
2. 画像が正しく読み込まれる
3. スワイプが機能する
```

#### C. ネットワークテスト
```
1. Wi-Fi環境で動作確認
2. モバイルデータで動作確認
3. オフライン時のエラー処理確認
```

## 既知の制限事項（Expo Go）

### ✅ 影響なし
- Supabase認証
- 基本的なAPI通信
- 画像表示
- スワイプUI
- ナビゲーション

### ⚠️ 制限あり（将来的に考慮）
- プッシュ通知（基本機能のみ）
- ディープリンク（expo://のみ）
- パフォーマンス最適化

### ❌ 使用不可（現在は未使用）
- アプリ内課金
- カスタムネイティブモジュール
- バックグラウンドタスク

## トラブルシューティング

### エラー: "Unable to resolve module 'expo-dev-client'"
```bash
# キャッシュをクリア
rm -rf node_modules .expo
npm install
npx expo start --clear
```

### エラー: "Network request failed"
```bash
# トンネル接続を使用
npx expo start --tunnel
```

### エラー: "Invalid hook call"
```bash
# React バージョンの確認
npm list react react-native
# 必要に応じて再インストール
```

## 最終確認

### ✅ Expo Go で動作する条件
1. managed workflow を維持（ios/android ディレクトリなし）
2. Expo SDK対応ライブラリのみ使用
3. 環境変数が正しく設定されている
4. ネットワーク接続が安定している

### 🎯 推奨アクション
1. **今すぐ**: `npx expo start` でテスト開始
2. **問題があれば**: エラーメッセージを共有
3. **成功したら**: 機能テストを実施

## 結論

**理論上は問題ありませんが、実機テストで確認が必要です。**

主な確認ポイント：
- Supabase接続の実動作
- 画像表示の実動作
- スワイプUIの実動作

これらが動作すれば、Expo Go で開発を続けられます。
